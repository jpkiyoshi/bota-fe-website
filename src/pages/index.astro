---
import Layout from '../layouts/Layout.astro';

if (Astro.request.method === 'POST') {
	try {
		const data = await Astro.request.formData();
		const email = data.get('email');
		console.log(email);
	} catch (error) {
		if (error instanceof Error) {
			console.error(error.message);
		}
	}
}
---

<Layout title='Programa Bota FÃ©'>
	<main>
		<div class='main-content'>
			<img class='logo' src='src/assets/logo-bota-fe.png' alt='' />
			<h1 class='cta-title'>Estamos chegando!</h1>
			<p class='cta-description'>
				Inscreva-se para ser notificado assim que o programa estrear!Inscreva-se
				para ser notificado assim que o programa estrear!Inscreva-se para ser
				notificado assim que o programa estrear!Inscreva-se para ser notificado
				assim que o programa estrear!
			</p>
		</div>
		<form class='form' name='email' method='POST' data-netlify='true'>
			<label for='email'
				>Inscreva-se para ser notificado assim que o programa estrear!</label
			>
			<div class='form-control'>
				<input
					required
					minlength='5'
					type='email'
					placeholder='Email'
					name='email'
					id='email'
				/>
				<button type='submit' class='cta-btn'>Enviar</button>
			</div>
		</form>
	</main>
</Layout>

<style>
	main {
		background: url('../assets/hero-background.png') center;
		height: 100dvh;
		display: grid;
		gap: 90px;
		place-content: center;
		margin-inline: auto;
		padding-inline: 1.5rem;
	}
	.main-content {
		margin-inline: auto;
		display: flex;
		flex-direction: column;
		align-items: center;
	}
	.logo {
		width: 200px;
		overflow: hidden;
		filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.6));
		transform: translatey(0px);
		animation: float 2s ease-in-out infinite;
	}
	.cta-title {
		font-family: 'Passion One', sans-serif;
		font-size: 3rem;
		font-size: clamp(3rem, 2.142857142857143rem + 4.285714285714286vw, 6rem);
		margin-block-start: 50px;
		text-transform: uppercase;
		text-align: center;
	}
	.cta-description {
		font-size: 1.25rem;
		text-align: center;
		max-width: 80ch;
		opacity: 0.8;
	}
	.form {
		display: flex;
		flex-direction: column;
		gap: 10px;
		text-align: center;
	}
	.form label {
		opacity: 0.8;
	}
	.form-control {
		position: relative;
		display: flex;
		justify-content: center;
		gap: 10px;
		width: fit-content;
		margin-inline: auto;
		height: 50px;
	}
	#email {
		border-radius: 500px;
		padding: 0.5rem;
		border: 1px solid var(--accent);
		color: #fff;
		font-size: 1rem;
		width: 350px;
		padding-inline: 20px;
		background: transparent;
	}
	.cta-btn {
		position: absolute;
		right: 3px;
		top: 1px;
		background: black;
		color: #fff;
		border: none;
		border-radius: 500px;
		padding: 15px 20px;
		transition: scale 250ms;
	}
	.cta-btn:hover {
		transition: 100ms;
		scale: 1.1;
	}

	@keyframes float {
		0% {
			filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.6));
			transform: translatey(0px);
		}
		50% {
			filter: drop-shadow(0 25px 15px rgba(0, 0, 0, 0.2));
			transform: translatey(-20px);
		}
		100% {
			filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.6));
			transform: translatey(0px);
		}
	}
</style>
